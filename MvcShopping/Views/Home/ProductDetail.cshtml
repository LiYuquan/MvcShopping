@*@model MvcShopping.Models.Product

@{
    ViewBag.Title = "ProductDetail";
}

<h2>ProductDetail</h2>

<fieldset>
    <legend>Product</legend>

    <div class="display-label">
         @Html.DisplayNameFor(model => model.Name)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Name)
    </div>

    <div class="display-label">
         @Html.DisplayNameFor(model => model.Dsecription)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Dsecription)
    </div>

    <div class="display-label">
         @Html.DisplayNameFor(model => model.Price)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Price)
    </div>

    <div class="display-label">
         @Html.DisplayNameFor(model => model.PublishOn)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.PublishOn)
    </div>
</fieldset>
<p>
    @Html.ActionLink("Edit", "Edit", new { id=Model.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>*@


@model MvcShopping.Models.Product

@{
    var ajaxOption = new AjaxOptions()
    {
        OnSuccess = "AddToCartSuccess",
        OnFailure = "AddToCartFailure",
    };
}

@section script
{
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        function AddToCartSuccess()
        {
            alert('添加购物车成功');
        }

        function AddToCartFailure(xhr)
        {
            alert('添加购物车失败(HTTP状态码: ' + xhr.status + ')');
        }
    </script>
}

<h2>您正在查看"@Model.Name"商品</h2>

<fieldset>
    <legend>@Html.DisplayNameFor(m => m) </legend>
    <div class="display-label">
        @Html.DisplayNameFor(model => model.Dsecription)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Dsecription)
    </div>

    <div class="display-label">
        @Html.DisplayNameFor(model => model.Price)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Price)
    </div>

    <div class="display-label">
        @Html.DisplayNameFor(model => model.PublishOn)
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.PublishOn)
    </div>
</fieldset>

<p>
    @Ajax.ActionLink("添加购物车","AddToCart","Cart",ajaxOption)
</p>